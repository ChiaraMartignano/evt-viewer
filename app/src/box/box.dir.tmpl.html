<section class="box box-{{vm.type}}" 
         id="{{vm.uid}}"
         data-position="left"
         ng-class="{'span6of12': vm.type === 'witness' && vm.getTotElementsOfType('witness') === 2,
                    'span9of9' : vm.type === 'witness' && vm.getTotElementsOfType('witness') === 1,
                    'span6of18': vm.type === 'text' && vm.getTotElementsOfType('witness') > 1}">
    <div class="box-menu" data-position="top">
        <evt-select 
            data-id="{{selector.id}}"
            data-type="{{selector.type}}"
            data-init="{{selector.initValue}}"
            ng-repeat="selector in vm.topMenuList.selectors">
        </evt-select>
        <button-switch 
            title="{{button.title}}"
            data-label="{{button.label}}"
            data-icon="{{button.icon}}"
            data-type="{{button.type}}"
            ng-repeat="button in vm.topMenuList.buttons">
        </button-switch>
    </div>
    <div class="box-body" id="box_body_{{vm.uid}}" compile="vm.content"></div>
    <!-- <div class="box-body" id="box_body_{{vm.uid}}">{{ vm.content }}</div> -->
    <div 
        class="box-bottom-box filters"
        ng-if="vm.type=='witness' || vm.state.edition=='critical'"
        ng-class="{'open': vm.state.filterBox}">
        
        <div class="filters__reading"
             ng-if="vm.type=='witness'"
             ng-repeat="filter in vm.appFilters">
            <div class="filters-section-title">{{filter.name}}</div>
            <div>
                <input 
                    type="checkbox" 
                    value="" 
                    name="{{filter.name}}_any"
                    ng-checked="vm.state.filters[filter.name] === undefined || vm.state.filters[filter.name].any" 
                    ng-model="vm.state.filters[filter.name].any"
                    ng-click="vm.clearFilter(filter.name);"
                    />
                <label for="{{filter.name}}_any"> any {{ vm.state.filters[filter.name].active }}</label>
            </div>
            <div ng-repeat="value in filter.values">
                <input 
                    type="checkbox" 
                    value="{{value}}" 
                    name="{{value}}"
                    ng-checked="vm.state.filters[filter.name].values[value].active !== undefined && vm.state.filters[filter.name].values[value].active"
                    ng-click="vm.toggleCriticalAppFilter(filter.name, value);"
                    />
                <label for="{{value}}"> {{value}}</label>
            </div>
        </div>
    </div>
    <div 
        class="box-menu" 
        data-position="bottom" >
        <button-switch 
            title="{{button.title}}"
            data-label="{{button.label}}"
            data-icon="{{button.icon}}"
            data-type="{{button.type}}"
            ng-repeat="button in vm.bottomMenuList.buttons">
        </button-switch>

        <!-- <button-switch 
            title="Filters"
            data-label="Filters"
            data-icon='filters'
            data-type="filterReading"
            ng-if="vm.type=='witness'"
            ng-click="vm.toggleFilterBox()"> -->
        </button-switch>
    </div>
</section>