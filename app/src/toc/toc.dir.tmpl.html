<div class="toc">
    <div class="toc_doc" ng-repeat="doc in vm.docs">
        {{doc.title}}
        <div ng-class="{ 'open' : true }">
            <div ng-if="doc.pages.length > 0"
                 ng-class="{ 'float-left' : doc.divs.length > 0 }">
                <span class="list-head">{{ 'TOC.PAGES' | translate }}</span>
                <ul>
                    <li ng-repeat="page in doc.pages"
                        ng-click="vm.goToPage(doc.value, page)">
                        {{vm.pages[page].title}}
                    </li>
                </ul>
            </div>
            <div ng-if="doc.divs.length > 0"
                 ng-class="{ 'float-right' : doc.pages.length > 0 }">
                <span class="list-head">{{ 'TOC.DIVS' | translate }}</span>
                <ul ng-repeat="key in vm.keys">
                    <span class="list-head-sub"
                            ng-if="doc.divs[key].length > 0">{{ 'TOC.' + key.toUpperCase() | translate }}</span>
                  <li ng-repeat="div in doc.divs[key]"
                      ng-click="vm.goToDiv(doc.value, div)">
                      {{vm.divs[div].title}}
                      <ul ng-if="vm.subDivs[div].length > 0">
                          <li ng-repeat="subDiv in vm.subDivs[div]"
                              ng-click="vm.goToDiv(doc.value, subDiv)">
                              {{vm.divs[subDiv].title}}
                          </li>
                      </ul>
                  </li>
                </ul>
            </div>
        </div>
    </div>
</div>